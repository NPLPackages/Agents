
<pe:blocktemplate count="4" pivot="19211,5,19200" relative_motion="true">
	<pe:blocks>{{0,0,0,271,[6]={attr={agentDependencies="",agentExternalFiles="",agentName="game.imgToIdiom",agentUrl="Mod/Agents/game.imgToIdiom.xml",bx=19211,by=5,bz=19200,class="EntityAgentSign",isGlobal=true,isPhantom=false,item_id=271,updateMethod="manual",version="1.0",},name="entity",{name="cmd","看图猜成语",},},},{-1,0,0,219,15,{attr={allowGameModeEdit=false,bx=19210,by=5,bz=19200,class="EntityCode",codeLanguageType="npl",isBlocklyEditMode=false,isPowered=true,item_id=219,},name="entity",{name="cmd","-- game guess\r\n\r\nhide()\r\n\r\nlocal problems = {\r\n &#32; &#32;[\"19.jpg\"] = {answer = \"舟车劳顿\", option1 = \"舟车劳累\", option2 = \"舟车劳顿\"},\r\n &#32; &#32;[\"20.jpg\"] = {answer = \"无独有偶\", option1 = \"无独有偶\", option2 = \"步步高升\"},\r\n &#32; &#32;[\"21.jpg\"] = {answer = \"四脚朝天\", option1 = \"四脚朝天\", option2 = \"偷天换日\"},\r\n &#32; &#32;[\"22.jpg\"] = {answer = \"心花怒放\", option1 = \"心花怒放\", option2 = \"遍地开花\"},\r\n &#32; &#32;[\"23.jpg\"] = {answer = \"礼尚往来\", option1 = \"相亲相爱\", option2 = \"礼尚往来\"},\r\n &#32; &#32;[\"24.jpg\"] = {answer = \"话里有话\", option1 = \"话里有话\", option2 = \"眉开眼笑\"},\r\n &#32; &#32;[\"25.jpg\"] = {answer = \"偷天换日\", option1 = \"偷日换天\", option2 = \"偷天换日\"},\r\n &#32; &#32;[\"26.jpg\"] = {answer = \"将心比心\", option1 = \"心心相印\", option2 = \"将心比心\"},\r\n}\r\n\r\nlocal running\r\n\r\nregisterBroadcastEvent(\"guess_game_enter\", function()\r\n &#32; &#32;if running then\r\n &#32; &#32; &#32; &#32;return\r\n &#32; &#32;end\r\n\r\n &#32; &#32;running = true\r\n\r\n &#32; &#32;local pass = true\r\n\r\n &#32; &#32;show()\r\n\r\n &#32; &#32;for k, v in pairs(problems) do\r\n &#32; &#32; &#32; &#32;-- show the image\r\n &#32; &#32; &#32; &#32;local image = string.format('image(\"Texture/Aries/Creator/keepwork/Agent/imageToIdion/%s\",650,400);', k)\r\n &#32; &#32; &#32; &#32;setActorValue(\"rendercode\", image)\r\n &#32; &#32; &#32; &#32;\r\n &#32; &#32; &#32; &#32;local answer = ask(\"图中的成语是？\", {v.option1, v.option2})\r\n &#32; &#32; &#32; &#32;if answer == nil then\r\n &#32; &#32; &#32; &#32; &#32; &#32;hide()\r\n &#32; &#32; &#32; &#32; &#32; &#32;return\r\n &#32; &#32; &#32; &#32;end\r\n &#32; &#32; &#32; &#32;answer = v[\"option\" .. answer]\r\n &#32; &#32; &#32; &#32;-- tip(answer .. \":\" .. v.answer)\r\n &#32; &#32; &#32; &#32;if answer == v.answer then\r\n &#32; &#32; &#32; &#32; &#32; &#32;-- right\r\n &#32; &#32; &#32; &#32;tip(\"回答正确，请看下一幅图。\")\r\n &#32; &#32; &#32; &#32;else\r\n &#32; &#32; &#32; &#32; &#32; &#32;-- tip(\"你回答错误，请再接再厉重新开始吧！\")\r\n &#32; &#32; &#32; &#32; &#32; &#32;pass = false\r\n &#32; &#32; &#32; &#32; &#32; &#32;break\r\n &#32; &#32; &#32; &#32;end\r\n &#32; &#32;end\r\n\r\n &#32; &#32;if pass then\r\n &#32; &#32; &#32; &#32;tip(\"恭喜你全部答对， 你可真是个小天才！\")\r\n &#32; &#32;end\r\n\r\n &#32; &#32;hide()\r\n\r\n &#32; &#32;running = false\r\n &#32; &#32;--broadcast(\"guess_game_leave\")\r\nend)\r\n\r\nbroadcast(\"guess_game_enter\")\r\n\r\n\r\n\r\n",},},},{-1,0,-1,190,13,},{-1,0,1,228,[6]={attr={bx=19210,by=5,bz=19201,class="EntityMovieClip",item_id=228,},name="entity",{name="cmd","/t 30 /end",},{name="inventory",{attr={count=1,id=10061,},name="slot","{timeseries={},}",},{attr={count=1,id=10065,},name="slot","{timeseries={ui_x={times={0,},data={-300,},ranges={{1,1,},},type=\"Linear\",name=\"ui_x\",},ui_y={times={0,},data={220,},ranges={{1,1,},},type=\"Linear\",name=\"ui_y\",},code={times={0,},data={\"image(\\\"19.jpg\\\", 200, 200)\",},ranges={{1,1,},},type=\"Discrete\",name=\"code\",},y={times={0,},data={-127.08333,},ranges={{1,1,},},type=\"Linear\",name=\"y\",},z={times={0,},data={19643.22796,},ranges={{1,1,},},type=\"Linear\",name=\"z\",},x={times={0,},data={20014.06125,},ranges={{1,1,},},type=\"Linear\",name=\"x\",},},}",},{attr={count=1,id=10063,},name="slot","{timeseries={},}",},},},},}
	</pe:blocks>
</pe:blocktemplate>